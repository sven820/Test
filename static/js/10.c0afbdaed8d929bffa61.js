webpackJsonp([10],{ABow:function(t,e){},ECKa:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("g4Je"),i=s.n(n);for(var o in n)"default"!==o&&function(t){s.d(e,t,function(){return n[t]})}(o);var a=s("PO34");var c=function(t){s("ABow"),s("ajfL")},r=s("C7Lr")(i.a,a.a,!1,c,"data-v-595feaf0",null);e.default=r.exports},PO34:function(t,e,s){"use strict";var n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("div",{staticClass:"header_nav"},[s("div",{staticClass:"back_btn",on:{click:function(e){return t.backClick()}}},[s("i")]),t._v(" "),s("div",{staticClass:"title-seg"},[t._v("我要吐槽")]),t._v(" "),s("div",{staticClass:"right_seg",on:{click:function(e){return t.submitReasons()}}},[t._v("提交")])]),t._v(" "),s("div",{staticClass:"content_list"},[t._m(0),t._v(" "),s("div",{staticClass:"multi_choose"},[s("ul",[t._l(t.reasons,function(e,n){return s("li",{key:n,class:{checked:!0===e.selected},on:{click:function(s){return t.operationReason(n,!e.selected)}}},[s("span",[t._v(t._s(e.reason))])])}),t._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"},{name:"model",rawName:"v-model",value:t.inputContent,expression:"inputContent"}],ref:"input",staticClass:"other_reason",attrs:{type:"text",maxlength:"150"},domProps:{value:t.inputContent},on:{blur:function(e){return t.inputLoseFocus()},input:function(e){e.target.composing||(t.inputContent=e.target.value)}}})],2)]),t._v(" "),s("div",{staticClass:"footer"},[t._v("提交吐槽后，我们将回收此题并根据您的意见进行优化。")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"gray_blank"}),this._v(" "),e("div",{staticClass:"top_title"},[e("span",{staticClass:"main_title"},[this._v("您不满意的理由是：")]),this._v(" "),e("span",{staticClass:"sub_title"},[this._v("请至少选择一个理由")])])])}]};e.a=n},ajfL:function(t,e){},g4Je:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=s("9QeB"),o=(n=i)&&n.__esModule?n:{default:n};e.default={name:"Spit",created:function(){this.topicSetId=this.$route.query.topicSetId,this.topicId=this.$route.query.topicId,this.feedbackTopicId=this.$route.query.feedbackTopciId},data:function(){return{nav_title:"我要吐槽",right_btn_title:"提交",topicSetId:"",topicId:"",feedbackTopicId:"",showInput:!1,reasons:[{reason:"试题错误",selected:!1},{reason:"解析错误",selected:!1},{reason:"与原题无关",selected:!1},{reason:"与原题重复",selected:!1},{reason:"难度不合适",selected:!1},{reason:"超出教学进度",selected:!1},{reason:"其他",selected:!1}],inputContent:""}},computed:{selected_count:function(){var t=0;return this.reasons.forEach(function(e){e.selected&&t++}),t}},methods:{operationReason:function(t,e){var s=this;t!==this.reasons.length-1?this.reasons[t].selected=e:!0===e?(this.showInput=!0,this.$nextTick(function(){s.$refs.input.focus(),s.reasons[t].selected=e})):(this.reasons[t].selected=!1,this.showInput=!1)},submitReasons:function(){var t=this;if(0!==this.selected_count){var e=this.joinReasonString();o.default.submitUserSpitInfo(this.topicSetId,this.topicId,this.feedbackTopicId,e).then(function(e){e.operateResult?(t.Toast("吐槽已提交！"),setTimeout(function(){t.backClick()},1e3)):t.Toast("吐槽提交失败！")}).catch(function(e){t.Toast("吐槽提交失败！")}),console.log(e)}else this.Toast("请至少选择一个理由")},joinReasonString:function(){var t=this,e="";return this.reasons.forEach(function(s){s.selected&&(e="其他"===s.reason?e+t.inputContent+",":e+s.reason+",")}),","===e.substr(e.length-1,1)&&(e=e.substr(0,e.length-1)),e},inputLoseFocus:function(){this.reasons[this.reasons.length-1].selected=0!==this.inputContent.length,this.showInput=0!==this.inputContent.length},backClick:function(){window.history.go(-1)}}}}});